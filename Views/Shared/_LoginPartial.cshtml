@using Microsoft.AspNetCore.Identity
@using URC.Areas.Identity.Data

@inject SignInManager<URCUser> SignInManager
@inject UserManager<URCUser> UserManager
    <head>
        <title>DataTables </title>
        <meta name="author" content="Hunter Moffat" />
        <meta name="description" content="This page determines what pages to display in the nav bar based on the role of the user" />
        <meta name="charset" content="utf-8" />
        <meta name="keywords" content="login,navbar, role" />
    </head>
    <ul class="navbar-nav">
        @if (SignInManager.IsSignedIn(User))
        {
            //if the signed in user is a student, add the student drop down menu to the nav bar
    @if (User.IsInRole("Student"))
    {
    <li class="nav-item dropdown">

        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Hello @UserManager.GetUserName(User)!
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/Applications/Index">My Applications</a>
            <a id="manage" class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Manage Profile</a>
            <a class="dropdown-item" href="/Skills">Manage Skills</a>
        </div>
    </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/Notifications/Index">Notifications</a>
                        </li>
                                            <li class="nav-item">
                                                <form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                                    <button id="logout" type="submit" class="nav-link btn btn-link text-dark">Logout</button>
                                                </form>
                                            </li> }
                                                            else
                                                            {
                                            <li class="nav-item">
                                                <a class="nav-link text-dark" href="/Applications/Find">Find</a>
                                            </li>
                                                                <li class="nav-item">
                                                                    <a class="nav-link text-dark" href="/Applications/Index">Applicant List</a>
                                                                </li>
                                                                                    <li class="nav-item">
                                                                                        <a id="manage" class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Hello @UserManager.GetUserName(User)!</a>
                                                                                    </li>

                                                                                                        <li class="nav-item">
                                                                                                            <form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                                                                                                <button id="logout" type="submit" class="nav-link btn btn-link text-dark">Logout</button>
                                                                                                            </form>
                                                                                                        </li>} }
                else
                {
    <li class="nav-item">
        <a class="nav-link text-dark" id="register" asp-area="Identity" asp-page="/Account/Register">Register</a>
    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" id="login" asp-area="Identity" asp-page="/Account/Login">Login</a>
                    </li>}
    </ul>
